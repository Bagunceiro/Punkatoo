<HTML>
<HEAD>
    <meta http-equiv="content-type" charset="UTF-8"
    content="text/html, width=device-width, initial-scale=1">
    <TITLE>Punkatoo System Update</TITLE>
    <script src="/navfuncs.js"></script>
    <script src="/fillfromjson.js"></script>
    <link rel="stylesheet" href="/punkatoo.css">
</HEAD>
<BODY>
    <div class="header" id="myHeader">
        <button onclick=gohome()>Home</button>
        <button onclick=goreset()>Reset</button>
        <button type=submit form=theform>Update</button>
    </div>
    <div class=content><br><B>System Update: <span name=controllername></span></B>
        <FORM id=theform method=post>
            <TABLE>
                <tr>
                    <td><label for=server>Update server:</label></td>
                    <td><input type=text name=server></td>
                </tr>
                <tr>
                    <td><label for=port>Port:</label></td>
                    <td><input type=text name=port></td>
                </tr>
                <tr>
                    <td><label for=image>Source file:</label></td>
                    <td><input type=text name=image></td>
                </tr>
                <tr>
                    <td><label for=target>Target file:</label></td>
                    <td><input type=text name=target></td>
                </tr>
            </TABLE>
        </FORM>
    </div>
    <div name=message></div> 
    <script src="/eventlstnrs.js"></script>
    <script>
    source.addEventListener('updprog', function(e) {
    var obj = JSON.parse(e.data);
    fillFromJson(obj);
    }, false);
    </script>       
    <script>
        var dataFile = new XMLHttpRequest();
        dataFile.onreadystatechange = orsc;
        dataFile.open("GET", "/sysupddata.json", true);
        dataFile.send(null);
    </script>
</BODY>
</HTML>